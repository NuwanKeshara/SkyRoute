{
  "title": "Sky Routes",
  "version": "2.4",
  "settings": {
    "pagenumber": 2,
    "editable": true,
    "fullscreenEnabled": false,
    "parameters": {
      "undefined": "",
      "undefined_display": "",
      "neodash_airport_country": "Finland",
      "neodash_airport_country_display": "Finland",
      "neodash_airport_country_1": "United States",
      "neodash_airport_country_1_display": "United States",
      "neodash_airport_country_2": "United States",
      "neodash_airport_country_2_display": "United States",
      "neodash_airport_country_3": "Sri Lanka",
      "neodash_airport_country_3_display": "Sri Lanka"
    },
    "theme": "light"
  },
  "pages": [
    {
      "title": "Domestic Flights Overview",
      "reports": [
        {
          "id": "e051d083-05f3-4a60-8d00-d55956673b58",
          "title": "Country",
          "query": "MATCH (n:`Airport`) \nWHERE toLower(toString(n.`country`)) STARTS WITH toLower($input) \nRETURN DISTINCT n.`country` as value,  n.`country` as display ORDER BY size(toString(value)) ASC LIMIT 10",
          "width": 5,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "actionsRules": [
              {
                "condition": "Click",
                "field": "country",
                "value": "",
                "customization": "set variable",
                "customizationValue": "country_name"
              }
            ],
            "type": "Node Property",
            "entityType": "Airport",
            "propertyType": "country",
            "propertyTypeDisplay": "country",
            "parameterName": "neodash_airport_country",
            "description": "select the country",
            "suggestionLimit": 10,
            "defaultValue": "United States",
            "searchType": "STARTS WITH"
          },
          "schema": []
        },
        {
          "id": "8f2f9476-bb2a-4ffe-8780-c0baa408f864",
          "title": "Total Flights",
          "query": "MATCH (a1:Airport)-[r:ROUTE]->(a2:Airport) \nWHERE a1.country = $neodash_airport_country AND a2.country = $neodash_airport_country \nRETURN count(r) AS TotalFlights\n\n\n",
          "width": 6,
          "height": 2,
          "x": 16,
          "y": 0,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 128
          },
          "schema": []
        },
        {
          "id": "1bf44788-1da9-49bc-b33a-615d63bb1420",
          "title": "Total Airports",
          "query": "MATCH (a:Airport) \nWHERE a.country = $neodash_airport_country \nRETURN count(DISTINCT a) AS TotalAirports\n",
          "width": 6,
          "height": 2,
          "x": 10,
          "y": 0,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 128
          },
          "schema": []
        },
        {
          "id": "4d27a2b6-c971-492c-8cb8-335bbe8a5c34",
          "title": "Flight Network by City Overview",
          "query": "MATCH (a1:Airport)-[r:ROUTE]-(a2:Airport) \nWHERE a1.country = $neodash_airport_country AND a2.country = $neodash_airport_country \nRETURN a1, r, a2 LIMIT 200\n\n",
          "width": 11,
          "height": 8,
          "x": 11,
          "y": 2,
          "type": "graph",
          "selection": {
            "Airport": "city",
            "ROUTE": "(label)"
          },
          "settings": {
            "frozen": true,
            "nodePositions": {
              "351": [
                8.32263662607417,
                -1.0800404537392596
              ],
              "354": [
                -10.255777746692338,
                10.653512451877551
              ],
              "355": [
                0.6565509899940078,
                -24.625000249307067
              ],
              "356": [
                15.022104623179112,
                20.650193830807343
              ],
              "358": [
                -22.358139617101223,
                -4.3181178688994795
              ],
              "359": [
                28.33046735290131,
                -19.289114116775803
              ],
              "361": [
                -7.526020331548957,
                27.29640927652741
              ],
              "362": [
                -13.784867836641748,
                -28.914943867381243
              ],
              "363": [
                32.956279848731896,
                11.117002250087385
              ],
              "364": [
                -29.257712182695382,
                12.721345487509339
              ],
              "367": [
                18.371487705810203,
                -32.344357034574074
              ],
              "369": [
                12.732530523044385,
                36.283235132472406
              ],
              "370": [
                -31.39098643906928,
                -18.81213781655949
              ],
              "371": [
                42.56053111337349,
                -9.961714250841336
              ],
              "372": [
                -20.79212871472241,
                31.936458929988486
              ],
              "374": [
                -3.3445108914284587,
                -41.55294471701012
              ],
              "375": [
                34.79440161266839,
                24.889424722165582
              ],
              "377": [
                -39.38996358780105,
                0.9784133803013996
              ],
              "1431": [
                3.8040867240333576,
                0.6463934185330013
              ],
              "1433": [
                -12.411497637821254,
                8.096224615570685
              ],
              "1434": [
                -4.803006265237671,
                -19.432755169549782
              ],
              "1435": [
                11.563976992408055,
                18.115977155352034
              ],
              "1437": [
                -21.810009922789312,
                -5.325030784929974
              ],
              "1438": [
                20.06161397451334,
                -14.228959119461884
              ],
              "1439": [
                -6.534269374953137,
                23.670652876406166
              ],
              "1446": [
                -13.927634218571503,
                -25.69702749120964
              ],
              "1449": [
                27.015175642301696,
                8.71114423239128
              ],
              "1480": [
                8.823542353534952,
                -2.750097987504385
              ],
              "1481": [
                -8.342142895534826,
                7.878413926611514
              ],
              "1593": [
                8.46823972866651,
                2.2140362658098063
              ],
              "1594": [
                -5.000117467343284,
                7.728946585253215
              ],
              "1596": [
                2.534592890572859,
                -17.11654078099035
              ],
              "1598": [
                12.593170865422358,
                15.823248423482985
              ],
              "1599": [
                -21.000546528629826,
                -3.384300791741625
              ],
              "1601": [
                19.1568251275731,
                -11.237161979204002
              ],
              "1602": [
                -6.5954555174337015,
                26.56653348899633
              ],
              "1603": [
                -11.64694070281308,
                -28.189341980316993
              ],
              "1605": [
                31.607541237935255,
                9.93431138770248
              ],
              "1607": [
                -24.174922894819062,
                14.578288136400346
              ],
              "1608": [
                14.93025487861575,
                -34.00081962622179
              ],
              "1611": [
                10.173464921513217,
                33.680874770906584
              ],
              "1612": [
                -29.465200066390327,
                -17.571130010343634
              ],
              "1614": [
                35.50631499963403,
                -6.597273078821352
              ],
              "1616": [
                -24.45521695874088,
                34.93742303699936
              ],
              "1618": [
                -3.8495850480643306,
                -33.4278837764832
              ],
              "1621": [
                35.69286264265551,
                30.45400199769956
              ],
              "1626": [
                -25.9667069619768,
                0.6554842792694988
              ],
              "1630": [
                31.29687653809297,
                -32.42260861883948
              ],
              "1631": [
                4.864208017008931,
                38.87806476811547
              ],
              "1632": [
                -27.166192175668254,
                -33.078589744405186
              ],
              "1634": [
                55.97704183000741,
                10.388939082454492
              ],
              "1636": [
                -23.618164637299895,
                21.360254136996694
              ],
              "1637": [
                14.50384970342044,
                -45.99560295369073
              ],
              "2109": [
                5.041231513617253,
                -0.29433311868177625
              ],
              "2111": [
                -9.052932195682851,
                6.678741543842433
              ],
              "2112": [
                -3.6424941040680636,
                -20.470704792808714
              ],
              "2113": [
                13.0287776016846,
                16.420794626465547
              ],
              "2114": [
                -19.720036739768986,
                -7.215779242646995
              ],
              "2115": [
                20.334975838154502,
                -13.875454215257944
              ],
              "2117": [
                -4.962928148591991,
                22.70870382941109
              ],
              "2118": [
                -13.38891219881299,
                -26.791451452388152
              ],
              "2120": [
                33.26725105922321,
                12.680337261578327
              ],
              "2123": [
                -30.099522740402552,
                11.402159618474284
              ],
              "2124": [
                15.539102443917011,
                -36.20957935339263
              ],
              "2125": [
                13.107813369295371,
                30.657326944100447
              ],
              "2127": [
                -32.777519625478945,
                -22.137015018695998
              ],
              "2128": [
                43.5427020756558,
                -10.493685371365785
              ],
              "2129": [
                -19.96187000107661,
                29.87274857064835
              ],
              "2130": [
                -4.879634047592891,
                -44.65232041475092
              ],
              "2132": [
                32.362368322545954,
                24.435294659622404
              ],
              "2317": [
                5.221457081942115,
                0.9163101516668293
              ],
              "2319": [
                -10.190449531266445,
                10.116204246648966
              ],
              "2323": [
                -4.421509517144449,
                -17.400693375590418
              ],
              "2617": [
                3.5161105847071794,
                -4.192717143240627
              ],
              "2618": [
                -20.21205224145907,
                8.84909199499759
              ],
              "2619": [
                7.479873644015696,
                -18.39641170747143
              ],
              "2620": [
                5.65923439944766,
                12.739408227006994
              ],
              "2622": [
                -12.322043506065967,
                -1.460250047907421
              ],
              "2624": [
                20.884499278653806,
                -5.834124402033591
              ],
              "2630": [
                1.0303365488056508,
                22.293033761243418
              ],
              "2632": [
                -6.380941620544799,
                -25.9999847062774
              ],
              "2633": [
                35.30984590139566,
                9.170055039442895
              ],
              "2640": [
                -33.67603040992921,
                4.328210350362987
              ],
              "2645": [
                12.884742408209373,
                -24.40106651614406
              ],
              "2648": [
                9.779575975610081,
                26.583847570707725
              ],
              "2649": [
                -30.558256460227515,
                -10.296710626753272
              ],
              "2650": [
                30.470739525538413,
                -11.693537778927627
              ],
              "2651": [
                -18.888054269186473,
                26.361495665728295
              ],
              "2656": [
                -23.864707171382072,
                32.501153147442785
              ],
              "2658": [
                -3.9472892638189316,
                -37.62730241430805
              ],
              "2660": [
                23.505289880991192,
                31.36383939913849
              ],
              "2664": [
                -47.06205570083699,
                3.986931281205087
              ],
              "2671": [
                17.094937106485244,
                -14.208064924500068
              ],
              "2686": [
                -2.2822649925067258,
                47.88677797763037
              ],
              "2688": [
                -25.788724655579006,
                -32.65420894073554
              ],
              "2690": [
                47.53640338087816,
                10.453455812031486
              ],
              "2695": [
                -52.47858214345622,
                30.14899763293422
              ],
              "2714": [
                4.138396962384461,
                -35.35445412655265
              ],
              "2716": [
                20.010798037672927,
                46.88352760103713
              ],
              "2719": [
                -49.507049996963005,
                -8.010732738468391
              ],
              "2723": [
                30.433188486121804,
                -7.652560803651918
              ],
              "2727": [
                -24.12566926286262,
                61.19842843088926
              ],
              "2731": [
                -17.150431363534878,
                -45.78617814635179
              ],
              "2733": [
                35.36597991692728,
                29.27484302835545
              ],
              "2739": [
                -58.94322990173237,
                17.222514139889892
              ],
              "2747": [
                17.197033219368517,
                -28.430915754329195
              ],
              "2761": [
                7.14714860915611,
                60.66279058730865
              ],
              "2765": [
                -44.86625282988613,
                -23.17298543261115
              ],
              "2766": [
                62.73046191483664,
                -7.373752388366355
              ],
              "2771": [
                -47.713433353612025,
                50.769809936202336
              ],
              "2772": [
                -6.52451198744508,
                -39.72049921391779
              ],
              "2777": [
                31.06670464081526,
                46.13702079014574
              ],
              "2780": [
                -54.313060238943194,
                -7.178833225235692
              ],
              "2802": [
                32.76062970235683,
                -21.514458242332513
              ],
              "2807": [
                -14.052580028719834,
                67.60832245923989
              ],
              "2813": [
                -33.731997008352714,
                -55.7350288141915
              ],
              "2815": [
                45.61209626297642,
                21.95144221984247
              ],
              "2819": [
                -54.25360512508297,
                25.498530859103532
              ],
              "2837": [
                22.81869427549791,
                -58.086113741151536
              ],
              "2838": [
                27.28180595730328,
                58.93904845620446
              ],
              "2860": [
                -66.45486173238481,
                -28.175750125621757
              ],
              "2863": [
                45.969475762685825,
                -7.835060656470622
              ],
              "2868": [
                -37.50829575991024,
                62.80784172349527
              ],
              "2872": [
                -16.412923512438674,
                -67.49971802874904
              ],
              "2880": [
                57.064799507135355,
                39.11379495004962
              ],
              "2883": [
                -74.44679555927306,
                10.042393242245932
              ],
              "2887": [
                31.0918968008287,
                -35.551756589229655
              ],
              "2891": [
                -0.2743809565253539,
                71.47105463782692
              ],
              "2900": [
                -46.71308834018171,
                -35.96087083960676
              ],
              "2902": [
                54.11988424139459,
                9.907331388596898
              ],
              "2905": [
                -56.366930149267375,
                48.22668086153537
              ],
              "2908": [
                2.7963227163755224,
                -51.298935155963946
              ],
              "2910": [
                32.790203532584684,
                58.358858001504075
              ],
              "2916": [
                -71.8888246468059,
                -14.91625679472212
              ],
              "2919": [
                47.48297854389191,
                -23.015314982991285
              ],
              "2933": [
                -24.34416229025156,
                71.18628379177228
              ],
              "2935": [
                -28.605547083243227,
                -65.54855811079331
              ],
              "2936": [
                54.826058973538906,
                31.330540430450775
              ],
              "2939": [
                -68.43563829371432,
                27.546359572847823
              ],
              "2940": [
                25.49529963135265,
                -48.53628199189321
              ],
              "2947": [
                13.909173791087447,
                71.76520113809568
              ],
              "2957": [
                -58.74697507613534,
                -30.468343428539672
              ],
              "2960": [
                83.18922938786444,
                -13.779075021361686
              ],
              "2978": [
                -44.92327287258782,
                60.299378156675886
              ],
              "2982": [
                -9.540666047230813,
                -58.53906152632717
              ],
              "2991": [
                -7.576010907500859,
                -60.437653943902816
              ],
              "3005": [
                53.805815445588074,
                64.151353327149
              ],
              "3015": [
                -82.34704561581921,
                2.311134348692124
              ],
              "3017": [
                62.06996964274272,
                55.81921803889204
              ],
              "3032": [
                -9.078219864925758,
                79.7212227635287
              ],
              "3040": [
                -45.461687409094466,
                -50.34561213482306
              ],
              "3041": [
                -73.85642050955768,
                -7.003446414133153
              ],
              "3044": [
                -69.11275021239408,
                42.94808171074385
              ],
              "3047": [
                16.930288014679356,
                -60.761733080592435
              ],
              "3059": [
                64.92758709837295,
                -56.737337607773675
              ],
              "3060": [
                -4.9658574125789965,
                70.3247006731605
              ],
              "3061": [
                -39.488907646985695,
                -64.91577944140856
              ],
              "3187": [
                -37.141021624774154,
                74.08221962623642
              ],
              "3188": [
                -23.698130875347623,
                -63.79899387225389
              ],
              "3261": [
                59.556179886742086,
                38.78759741075608
              ],
              "3308": [
                80.6985434048861,
                10.225096072877303
              ],
              "3383": [
                37.531157643915805,
                -51.51731639565071
              ],
              "3392": [
                8.377483589608222,
                79.10946341468377
              ],
              "3432": [
                24.048478213863955,
                45.60842675121452
              ],
              "3801": [
                -58.10830905565385,
                -43.639448291401195
              ],
              "3819": [
                68.29111750172493,
                1.187821151316082
              ],
              "3822": [
                -58.91504928169109,
                57.75878076444092
              ],
              "3891": [
                3.453962274838779,
                -21.579157908587682
              ],
              "3893": [
                16.233653558933494,
                19.76712597811158
              ],
              "3897": [
                -26.815220577912633,
                -10.266379732645754
              ],
              "3898": [
                24.359170860192446,
                -16.768958101798116
              ],
              "3899": [
                -5.621504475402103,
                29.07376162152258
              ],
              "3901": [
                -13.405227892893578,
                -29.399470244746837
              ],
              "3902": [
                31.727757542797363,
                10.524780998420443
              ],
              "3907": [
                -35.09534149479947,
                12.862649374306187
              ],
              "3954": [
                -54.619625411644364,
                -16.398136545628713
              ],
              "4059": [
                -37.099494659463225,
                -1.9414006953611938
              ],
              "4060": [
                36.007077876483194,
                -38.036535514223104
              ],
              "4153": [
                12.695886175620084,
                23.752557102799987
              ],
              "4416": [
                1.8883901148824185,
                -67.85477388114191
              ],
              "4431": [
                -64.03444697252077,
                36.517199944398975
              ],
              "4433": [
                19.68849055538352,
                -78.91436337225664
              ],
              "4528": [
                35.64585002574047,
                71.90727475036985
              ],
              "4594": [
                -66.43747375636697,
                -31.069644857664397
              ],
              "4612": [
                78.54745801094857,
                -34.553207931133294
              ],
              "4678": [
                -30.63116636570897,
                72.4735733130876
              ],
              "4901": [
                42.60331436064154,
                -19.735702705225037
              ],
              "5364": [
                -26.48246600181983,
                -2.9016382668970886
              ],
              "5432": [
                22.247712028111764,
                -12.691885669252775
              ],
              "5484": [
                0.8687912673828992,
                38.59930733820565
              ]
            }
          },
          "schema": [
            [
              "Airport",
              "country",
              "iata",
              "city",
              "latitude",
              "name",
              "location",
              "longitude"
            ],
            [
              "ROUTE",
              "airline",
              "updated"
            ]
          ]
        },
        {
          "id": "672eee1e-d2ca-4ef4-92c0-508afc176012",
          "title": "Top Airports by Flights (Departures)",
          "query": "MATCH (a1:Airport)-[r:ROUTE]->(a2:Airport) \nWHERE a1.country = $neodash_airport_country AND a2.country = $neodash_airport_country \nRETURN a1.name AS Airport, count(r) AS OutgoingFlights \nORDER BY OutgoingFlights DESC LIMIT 10\n\n",
          "width": 11,
          "height": 5,
          "x": 11,
          "y": 10,
          "type": "bar",
          "selection": {
            "index": "Airport",
            "value": "OutgoingFlights",
            "key": "Airport"
          },
          "settings": {
            "legend": true,
            "colors": "set2",
            "customDimensions": false,
            "barWidth": 15,
            "displayYAxis": true,
            "showOptionalSelections": true,
            "valueScale": "linear",
            "groupMode": "stacked",
            "hideSelections": true,
            "expandHeightForLegend": false,
            "layout": "vertical",
            "marginRight": 120,
            "legendPosition": "Vertical"
          },
          "schema": []
        },
        {
          "id": "f5ada767-0994-43f0-b024-c965c925ab9e",
          "title": "Top Airports by Flights (Arrivals)",
          "query": "MATCH (a1:Airport)-[r:ROUTE]->(a2:Airport)\nWHERE a1.country = $neodash_airport_country \n  AND a2.country = $neodash_airport_country\nWITH a2.name AS Airline, count(r) AS FlightCount\nORDER BY FlightCount DESC\nWITH collect({airline: Airline, flights: FlightCount}) AS data\nUNWIND data AS d\nWITH d, \n     CASE \n       WHEN d IN data[0..7] THEN d.airline\n       ELSE 'Other'\n     END AS AirlineGroup,\n     d.flights AS FlightCount\nRETURN AirlineGroup AS Airline, sum(FlightCount) AS FlightCount\nORDER BY FlightCount DESC;\n",
          "width": 11,
          "height": 5,
          "x": 11,
          "y": 15,
          "type": "pie",
          "selection": {
            "index": "Airline",
            "value": "FlightCount",
            "key": "(none)"
          },
          "settings": {
            "legend": false,
            "enableArcLabels": true,
            "enableArcLinkLabels": true,
            "sortByValue": true,
            "arcLabelsSkipAngle": 12,
            "arcLinkLabelsSkipAngle": 10,
            "ignoreNonDefinedParams": false
          },
          "schema": []
        },
        {
          "id": "2846fc7d-1ba9-4606-88fd-80ac88f4536d",
          "title": "Top 10 Busiest Airports",
          "query": "MATCH (a1:Airport)-[r:ROUTE]-(a2:Airport) \nWHERE a1.country = $neodash_airport_country and a2.country = $neodash_airport_country\nRETURN a1.name + ' (' + a1.iata + ')' AS Airport_Name,\na1.city AS City,\ncount(r) AS Connected_Routes \nORDER BY Connected_Routes DESC LIMIT 10\n\n\n\n",
          "width": 11,
          "height": 5,
          "x": 0,
          "y": 10,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true
          }
        },
        {
          "id": "2d0f6808-9e94-4b08-b638-57aa5de907e6",
          "title": "Airlines by Route Count",
          "query": "MATCH (ap1:Airport)-[r:ROUTE]->(ap2:Airport)\nWHERE ap1.country = $neodash_airport_country \n  AND ap2.country = $neodash_airport_country\nWITH r.airline AS airlineIata, count(r) AS routeCount\nMATCH (a:Airline {iata: airlineIata})\nRETURN a.name AS Airline, routeCount\nORDER BY routeCount DESC\nLIMIT 10;\n\n\n\n",
          "width": 11,
          "height": 5,
          "x": 0,
          "y": 15,
          "type": "table",
          "selection": {},
          "settings": {
            "wrapContent": false,
            "columnWidthsType": "Relative (%)",
            "legend": true,
            "colors": "accent",
            "hideSelections": true
          },
          "schema": []
        },
        {
          "id": "4bd215c7-2434-4c00-8ac5-bf6e4579dfc1",
          "title": "Total Airlines",
          "query": "MATCH (ap1:Airport)-[r:ROUTE]-(ap2:Airport) \nWHERE ap1.country = $neodash_airport_country OR ap2.country =  $neodash_airport_country \nRETURN count(DISTINCT r.airline) AS TotalAirlinesInUS\n",
          "width": 5,
          "height": 2,
          "x": 5,
          "y": 0,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 128
          },
          "schema": []
        },
        {
          "id": "2dd4a817-76d6-4586-b1e6-2d7f81068488",
          "title": "$neodash_airport_country Airports",
          "query": "MATCH (a1:Airport)-[r:ROUTE]->(a2:Airport) \nWHERE a1.country = $neodash_airport_country AND a2.country = $neodash_airport_country\nRETURN a1,a2 LIMIT 200\n\n",
          "width": 11,
          "height": 8,
          "x": 0,
          "y": 2,
          "type": "map",
          "selection": {
            "Airport": "(no label)"
          },
          "settings": {
            "frozen": true,
            "nodePositions": {
              "351": [
                8.32263662607417,
                -1.0800404537392596
              ],
              "354": [
                -10.255777746692338,
                10.653512451877551
              ],
              "355": [
                0.6565509899940078,
                -24.625000249307067
              ],
              "356": [
                15.022104623179112,
                20.650193830807343
              ],
              "358": [
                -22.358139617101223,
                -4.3181178688994795
              ],
              "359": [
                28.33046735290131,
                -19.289114116775803
              ],
              "361": [
                -7.526020331548957,
                27.29640927652741
              ],
              "362": [
                -13.784867836641748,
                -28.914943867381243
              ],
              "363": [
                32.956279848731896,
                11.117002250087385
              ],
              "364": [
                -29.257712182695382,
                12.721345487509339
              ],
              "367": [
                18.371487705810203,
                -32.344357034574074
              ],
              "369": [
                12.732530523044385,
                36.283235132472406
              ],
              "370": [
                -31.39098643906928,
                -18.81213781655949
              ],
              "371": [
                42.56053111337349,
                -9.961714250841336
              ],
              "372": [
                -20.79212871472241,
                31.936458929988486
              ],
              "374": [
                -3.3445108914284587,
                -41.55294471701012
              ],
              "375": [
                34.79440161266839,
                24.889424722165582
              ],
              "377": [
                -39.38996358780105,
                0.9784133803013996
              ],
              "1431": [
                3.8040867240333576,
                0.6463934185330013
              ],
              "1433": [
                -12.411497637821254,
                8.096224615570685
              ],
              "1434": [
                -4.803006265237671,
                -19.432755169549782
              ],
              "1435": [
                11.563976992408055,
                18.115977155352034
              ],
              "1437": [
                -21.810009922789312,
                -5.325030784929974
              ],
              "1438": [
                20.06161397451334,
                -14.228959119461884
              ],
              "1439": [
                -6.534269374953137,
                23.670652876406166
              ],
              "1446": [
                -13.927634218571503,
                -25.69702749120964
              ],
              "1449": [
                27.015175642301696,
                8.71114423239128
              ],
              "1480": [
                8.823542353534952,
                -2.750097987504385
              ],
              "1481": [
                -8.342142895534826,
                7.878413926611514
              ],
              "1593": [
                8.46823972866651,
                2.2140362658098063
              ],
              "1594": [
                -5.000117467343284,
                7.728946585253215
              ],
              "1596": [
                2.534592890572859,
                -17.11654078099035
              ],
              "1598": [
                12.593170865422358,
                15.823248423482985
              ],
              "1599": [
                -21.000546528629826,
                -3.384300791741625
              ],
              "1601": [
                19.1568251275731,
                -11.237161979204002
              ],
              "1602": [
                -6.5954555174337015,
                26.56653348899633
              ],
              "1603": [
                -11.64694070281308,
                -28.189341980316993
              ],
              "1605": [
                31.607541237935255,
                9.93431138770248
              ],
              "1607": [
                -24.174922894819062,
                14.578288136400346
              ],
              "1608": [
                14.93025487861575,
                -34.00081962622179
              ],
              "1611": [
                10.173464921513217,
                33.680874770906584
              ],
              "1612": [
                -29.465200066390327,
                -17.571130010343634
              ],
              "1614": [
                35.50631499963403,
                -6.597273078821352
              ],
              "1616": [
                -24.45521695874088,
                34.93742303699936
              ],
              "1618": [
                -3.8495850480643306,
                -33.4278837764832
              ],
              "1621": [
                35.69286264265551,
                30.45400199769956
              ],
              "1626": [
                -25.9667069619768,
                0.6554842792694988
              ],
              "1630": [
                31.29687653809297,
                -32.42260861883948
              ],
              "1631": [
                4.864208017008931,
                38.87806476811547
              ],
              "1632": [
                -27.166192175668254,
                -33.078589744405186
              ],
              "1634": [
                55.97704183000741,
                10.388939082454492
              ],
              "1636": [
                -23.618164637299895,
                21.360254136996694
              ],
              "1637": [
                14.50384970342044,
                -45.99560295369073
              ],
              "2109": [
                5.041231513617253,
                -0.29433311868177625
              ],
              "2111": [
                -9.052932195682851,
                6.678741543842433
              ],
              "2112": [
                -3.6424941040680636,
                -20.470704792808714
              ],
              "2113": [
                13.0287776016846,
                16.420794626465547
              ],
              "2114": [
                -19.720036739768986,
                -7.215779242646995
              ],
              "2115": [
                20.334975838154502,
                -13.875454215257944
              ],
              "2117": [
                -4.962928148591991,
                22.70870382941109
              ],
              "2118": [
                -13.38891219881299,
                -26.791451452388152
              ],
              "2120": [
                33.26725105922321,
                12.680337261578327
              ],
              "2123": [
                -30.099522740402552,
                11.402159618474284
              ],
              "2124": [
                15.539102443917011,
                -36.20957935339263
              ],
              "2125": [
                13.107813369295371,
                30.657326944100447
              ],
              "2127": [
                -32.777519625478945,
                -22.137015018695998
              ],
              "2128": [
                43.5427020756558,
                -10.493685371365785
              ],
              "2129": [
                -19.96187000107661,
                29.87274857064835
              ],
              "2130": [
                -4.879634047592891,
                -44.65232041475092
              ],
              "2132": [
                32.362368322545954,
                24.435294659622404
              ],
              "2317": [
                5.221457081942115,
                0.9163101516668293
              ],
              "2319": [
                -10.190449531266445,
                10.116204246648966
              ],
              "2323": [
                -4.421509517144449,
                -17.400693375590418
              ],
              "2617": [
                3.5161105847071794,
                -4.192717143240627
              ],
              "2618": [
                -20.21205224145907,
                8.84909199499759
              ],
              "2619": [
                7.479873644015696,
                -18.39641170747143
              ],
              "2620": [
                5.65923439944766,
                12.739408227006994
              ],
              "2622": [
                -12.322043506065967,
                -1.460250047907421
              ],
              "2624": [
                20.884499278653806,
                -5.834124402033591
              ],
              "2630": [
                1.0303365488056508,
                22.293033761243418
              ],
              "2632": [
                -6.380941620544799,
                -25.9999847062774
              ],
              "2633": [
                35.30984590139566,
                9.170055039442895
              ],
              "2640": [
                -33.67603040992921,
                4.328210350362987
              ],
              "2645": [
                12.884742408209373,
                -24.40106651614406
              ],
              "2648": [
                9.779575975610081,
                26.583847570707725
              ],
              "2649": [
                -30.558256460227515,
                -10.296710626753272
              ],
              "2650": [
                30.470739525538413,
                -11.693537778927627
              ],
              "2651": [
                -18.888054269186473,
                26.361495665728295
              ],
              "2656": [
                -23.864707171382072,
                32.501153147442785
              ],
              "2658": [
                -3.9472892638189316,
                -37.62730241430805
              ],
              "2660": [
                23.505289880991192,
                31.36383939913849
              ],
              "2664": [
                -47.06205570083699,
                3.986931281205087
              ],
              "2671": [
                17.094937106485244,
                -14.208064924500068
              ],
              "2686": [
                -2.2822649925067258,
                47.88677797763037
              ],
              "2688": [
                -25.788724655579006,
                -32.65420894073554
              ],
              "2690": [
                47.53640338087816,
                10.453455812031486
              ],
              "2695": [
                -52.47858214345622,
                30.14899763293422
              ],
              "2714": [
                4.138396962384461,
                -35.35445412655265
              ],
              "2716": [
                20.010798037672927,
                46.88352760103713
              ],
              "2719": [
                -49.507049996963005,
                -8.010732738468391
              ],
              "2723": [
                30.433188486121804,
                -7.652560803651918
              ],
              "2727": [
                -24.12566926286262,
                61.19842843088926
              ],
              "2731": [
                -17.150431363534878,
                -45.78617814635179
              ],
              "2733": [
                35.36597991692728,
                29.27484302835545
              ],
              "2739": [
                -58.94322990173237,
                17.222514139889892
              ],
              "2747": [
                17.197033219368517,
                -28.430915754329195
              ],
              "2761": [
                7.14714860915611,
                60.66279058730865
              ],
              "2765": [
                -44.86625282988613,
                -23.17298543261115
              ],
              "2766": [
                62.73046191483664,
                -7.373752388366355
              ],
              "2771": [
                -47.713433353612025,
                50.769809936202336
              ],
              "2772": [
                -6.52451198744508,
                -39.72049921391779
              ],
              "2777": [
                31.06670464081526,
                46.13702079014574
              ],
              "2780": [
                -54.313060238943194,
                -7.178833225235692
              ],
              "2802": [
                32.76062970235683,
                -21.514458242332513
              ],
              "2807": [
                -14.052580028719834,
                67.60832245923989
              ],
              "2813": [
                -33.731997008352714,
                -55.7350288141915
              ],
              "2815": [
                45.61209626297642,
                21.95144221984247
              ],
              "2819": [
                -54.25360512508297,
                25.498530859103532
              ],
              "2837": [
                22.81869427549791,
                -58.086113741151536
              ],
              "2838": [
                27.28180595730328,
                58.93904845620446
              ],
              "2860": [
                -66.45486173238481,
                -28.175750125621757
              ],
              "2863": [
                45.969475762685825,
                -7.835060656470622
              ],
              "2868": [
                -37.50829575991024,
                62.80784172349527
              ],
              "2872": [
                -16.412923512438674,
                -67.49971802874904
              ],
              "2880": [
                57.064799507135355,
                39.11379495004962
              ],
              "2883": [
                -74.44679555927306,
                10.042393242245932
              ],
              "2887": [
                31.0918968008287,
                -35.551756589229655
              ],
              "2891": [
                -0.2743809565253539,
                71.47105463782692
              ],
              "2900": [
                -46.71308834018171,
                -35.96087083960676
              ],
              "2902": [
                54.11988424139459,
                9.907331388596898
              ],
              "2905": [
                -56.366930149267375,
                48.22668086153537
              ],
              "2908": [
                2.7963227163755224,
                -51.298935155963946
              ],
              "2910": [
                32.790203532584684,
                58.358858001504075
              ],
              "2916": [
                -71.8888246468059,
                -14.91625679472212
              ],
              "2919": [
                47.48297854389191,
                -23.015314982991285
              ],
              "2933": [
                -24.34416229025156,
                71.18628379177228
              ],
              "2935": [
                -28.605547083243227,
                -65.54855811079331
              ],
              "2936": [
                54.826058973538906,
                31.330540430450775
              ],
              "2939": [
                -68.43563829371432,
                27.546359572847823
              ],
              "2940": [
                25.49529963135265,
                -48.53628199189321
              ],
              "2947": [
                13.909173791087447,
                71.76520113809568
              ],
              "2957": [
                -58.74697507613534,
                -30.468343428539672
              ],
              "2960": [
                83.18922938786444,
                -13.779075021361686
              ],
              "2978": [
                -44.92327287258782,
                60.299378156675886
              ],
              "2982": [
                -9.540666047230813,
                -58.53906152632717
              ],
              "2991": [
                -7.576010907500859,
                -60.437653943902816
              ],
              "3005": [
                53.805815445588074,
                64.151353327149
              ],
              "3015": [
                -82.34704561581921,
                2.311134348692124
              ],
              "3017": [
                62.06996964274272,
                55.81921803889204
              ],
              "3032": [
                -9.078219864925758,
                79.7212227635287
              ],
              "3040": [
                -45.461687409094466,
                -50.34561213482306
              ],
              "3041": [
                -73.85642050955768,
                -7.003446414133153
              ],
              "3044": [
                -69.11275021239408,
                42.94808171074385
              ],
              "3047": [
                16.930288014679356,
                -60.761733080592435
              ],
              "3059": [
                64.92758709837295,
                -56.737337607773675
              ],
              "3060": [
                -4.9658574125789965,
                70.3247006731605
              ],
              "3061": [
                -39.488907646985695,
                -64.91577944140856
              ],
              "3187": [
                -37.141021624774154,
                74.08221962623642
              ],
              "3188": [
                -23.698130875347623,
                -63.79899387225389
              ],
              "3261": [
                59.556179886742086,
                38.78759741075608
              ],
              "3308": [
                80.6985434048861,
                10.225096072877303
              ],
              "3383": [
                37.531157643915805,
                -51.51731639565071
              ],
              "3392": [
                8.377483589608222,
                79.10946341468377
              ],
              "3432": [
                24.048478213863955,
                45.60842675121452
              ],
              "3801": [
                -58.10830905565385,
                -43.639448291401195
              ],
              "3819": [
                68.29111750172493,
                1.187821151316082
              ],
              "3822": [
                -58.91504928169109,
                57.75878076444092
              ],
              "3891": [
                3.453962274838779,
                -21.579157908587682
              ],
              "3893": [
                16.233653558933494,
                19.76712597811158
              ],
              "3897": [
                -26.815220577912633,
                -10.266379732645754
              ],
              "3898": [
                24.359170860192446,
                -16.768958101798116
              ],
              "3899": [
                -5.621504475402103,
                29.07376162152258
              ],
              "3901": [
                -13.405227892893578,
                -29.399470244746837
              ],
              "3902": [
                31.727757542797363,
                10.524780998420443
              ],
              "3907": [
                -35.09534149479947,
                12.862649374306187
              ],
              "3954": [
                -54.619625411644364,
                -16.398136545628713
              ],
              "4059": [
                -37.099494659463225,
                -1.9414006953611938
              ],
              "4060": [
                36.007077876483194,
                -38.036535514223104
              ],
              "4153": [
                12.695886175620084,
                23.752557102799987
              ],
              "4416": [
                1.8883901148824185,
                -67.85477388114191
              ],
              "4431": [
                -64.03444697252077,
                36.517199944398975
              ],
              "4433": [
                19.68849055538352,
                -78.91436337225664
              ],
              "4528": [
                35.64585002574047,
                71.90727475036985
              ],
              "4594": [
                -66.43747375636697,
                -31.069644857664397
              ],
              "4612": [
                78.54745801094857,
                -34.553207931133294
              ],
              "4678": [
                -30.63116636570897,
                72.4735733130876
              ],
              "4901": [
                42.60331436064154,
                -19.735702705225037
              ],
              "5364": [
                -26.48246600181983,
                -2.9016382668970886
              ],
              "5432": [
                22.247712028111764,
                -12.691885669252775
              ],
              "5484": [
                0.8687912673828992,
                38.59930733820565
              ]
            },
            "defaultNodeSize": "small",
            "clusterMarkers": true,
            "fullscreenEnabled": true
          },
          "schema": [
            [
              "Airport",
              "country",
              "iata",
              "city",
              "latitude",
              "name",
              "location",
              "longitude"
            ]
          ]
        }
      ]
    },
    {
      "title": "International Flights Overview",
      "reports": [
        {
          "id": "b3a0af21-796f-46b7-ab32-0326b48b000a",
          "title": "Countries with Direct Flights",
          "query": "MATCH (a1:Airport)-[r:ROUTE]->(a2:Airport) \nWHERE a1.country = $neodash_airport_country_1 AND a2.country <> $neodash_airport_country_1\nRETURN a2\n\n\n",
          "width": 15,
          "height": 7,
          "x": 8,
          "y": 0,
          "type": "map",
          "selection": {
            "Airport": "(no label)"
          },
          "settings": {
            "nodeColorScheme": "category10",
            "defaultNodeSize": "small",
            "fullscreenEnabled": true,
            "clusterMarkers": true
          },
          "schema": [
            [
              "Airport",
              "country",
              "iata",
              "city",
              "latitude",
              "name",
              "location",
              "longitude"
            ]
          ]
        },
        {
          "id": "ad805998-24a5-489f-a875-a70d6ba2a796",
          "title": "",
          "query": "MATCH (n:`Airport`) \nWHERE toLower(toString(n.`country`)) STARTS WITH toLower($input) \nRETURN DISTINCT n.`country` as value,  n.`country` as display ORDER BY size(toString(value)) ASC LIMIT 5",
          "width": 8,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "Airport",
            "propertyType": "country",
            "propertyTypeDisplay": "country",
            "parameterName": "neodash_airport_country_1",
            "id": "1",
            "manualParameterSave": false,
            "defaultValue": "United States",
            "clearParameterOnFieldClear": false,
            "deduplicateSuggestions": true,
            "autoSelectFirstValue": false,
            "searchType": "STARTS WITH"
          },
          "schema": []
        },
        {
          "id": "a6f7199c-133d-4494-a3e0-62604fc9d298",
          "title": "Total Countries Visit",
          "query": "MATCH (a1:Airport)-[r:ROUTE]-(a2:Airport) \nWHERE a1.country = $neodash_airport_country_1  AND a2.country <> $neodash_airport_country_1\nRETURN count(DISTINCT a2.country) AS TotalInternationalVisits\n\n\n",
          "width": 4,
          "height": 2,
          "x": 0,
          "y": 2,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 128
          },
          "schema": []
        },
        {
          "id": "06c0fa36-2c29-4cb7-b248-b9f65e65e07e",
          "title": "Total International Flights Routes ",
          "query": "MATCH (us_airport:Airport)-[r:ROUTE]->(int_airport:Airport) \nWHERE us_airport.country = $neodash_airport_country_1  AND int_airport.country <> $neodash_airport_country_1\nRETURN count(DISTINCT r) AS TotalInternationalRoutes\n\n\n",
          "width": 8,
          "height": 2,
          "x": 0,
          "y": 4,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 128
          },
          "schema": []
        },
        {
          "id": "786d98c1-9789-4de9-816d-cabe7c401cdc",
          "title": "Total International Airports in $neodash_airport_country_1",
          "query": "MATCH (a1:Airport)-[r:ROUTE]-(a2:Airport) \nWHERE a1.country = $neodash_airport_country_1  AND a2.country <> $neodash_airport_country_1\nRETURN count(DISTINCT a1.name) AS TotalInternationalVisits\n\n\n",
          "width": 4,
          "height": 2,
          "x": 4,
          "y": 2,
          "type": "value",
          "selection": {},
          "settings": {
            "fontSize": 128
          },
          "schema": []
        },
        {
          "id": "418e4a5a-f9bd-40c1-b172-b7f9575827de",
          "title": "Top International Destination Countries from $neodash_airport_country_1",
          "query": "// MATCH (:Airport {country: $neodash_airport_country_1})-[r:ROUTE]->(int_airport:Airport) \n// WHERE int_airport.country <> $neodash_airport_country_1 \n// RETURN int_airport.country AS Destination_Country, count(r) AS International_Routes_Count \n// ORDER BY International_Routes_Count DESC \n// LIMIT 10\n\nMATCH (a1:Airport)-[r:ROUTE]->(a2:Airport)\nWHERE a1.country = $neodash_airport_country \n  AND a2.country <> $neodash_airport_country\nWITH a2.country AS Country, count(r) AS Count\nORDER BY Count DESC\nWITH collect({airline: Country, flights: Count}) AS data\nUNWIND data AS d\nWITH d, \n     CASE \n       WHEN d IN data[0..7] THEN d.airline\n       ELSE 'Other'\n     END AS AirlineGroup,\n     d.flights AS CountryCount\nRETURN AirlineGroup AS cCount, sum(CountryCount) AS CountryCount\nORDER BY CountryCount DESC;\n\n",
          "width": 8,
          "height": 6,
          "x": 0,
          "y": 6,
          "type": "pie",
          "selection": {
            "index": "cCount",
            "value": "CountryCount",
            "key": "(none)"
          },
          "settings": {
            "legend": false,
            "sortByValue": true,
            "arcLabelsSkipAngle": 12,
            "arcLabelsFontSize": 13,
            "arcLinkLabelsSkipAngle": 10
          },
          "schema": []
        },
        {
          "id": "37551132-21ef-4e0d-aa33-ee68a3b4f601",
          "title": "International Flight Routes from $neodash_airport_country_1",
          "query": "MATCH (us_airport:Airport)-[r:ROUTE]-(int_airport:Airport) \nWHERE us_airport.country = $neodash_airport_country_1 AND int_airport.country <> $neodash_airport_country_1\nRETURN us_airport, r, int_airport LIMIT 100\n\n\n",
          "width": 15,
          "height": 5,
          "x": 8,
          "y": 7,
          "type": "graph",
          "selection": {
            "Airport": "country",
            "ROUTE": "(label)"
          },
          "settings": {},
          "schema": [
            [
              "Airport",
              "country",
              "iata",
              "city",
              "latitude",
              "name",
              "location",
              "longitude"
            ],
            [
              "ROUTE",
              "airline",
              "updated"
            ]
          ]
        },
        {
          "id": "d3092f99-b768-4a2d-b998-e44f06d1ef7d",
          "title": "Airlines Operating International $neodash_airport_country_1 Routes",
          "query": "MATCH (src:Airport {country: $neodash_airport_country_1})-[r:ROUTE]->(dst:Airport)\nWHERE dst.country <> $neodash_airport_country_1\nMATCH (al:Airline {iata: r.airline})\nRETURN al.name AS Airline_Name, al.country AS Airline_Country, count(r) AS International_Routes\nORDER BY International_Routes DESC\nLIMIT 20;\n\n\n\n",
          "width": 15,
          "height": 4,
          "x": 0,
          "y": 12,
          "type": "table",
          "selection": {},
          "settings": {
            "compact": true
          }
        }
      ]
    },
    {
      "title": "Find Shortest Flight Path",
      "reports": [
        {
          "id": "b38b7869-c853-4a42-baf9-f3a575709f6b",
          "title": "Origin Country",
          "query": "MATCH (n:`Airport`) \nWHERE toLower(toString(n.`country`)) STARTS WITH toLower($input) \nRETURN DISTINCT n.`country` as value,  n.`country` as display ORDER BY size(toString(value)) ASC LIMIT 5",
          "width": 8,
          "height": 2,
          "x": 0,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "Airport",
            "propertyType": "country",
            "propertyTypeDisplay": "country",
            "parameterName": "neodash_airport_country_2",
            "id": "2",
            "searchType": "STARTS WITH",
            "defaultValue": "United States"
          },
          "schema": []
        },
        {
          "id": "da0c533e-f541-4caf-b4ce-0c65eb080a19",
          "title": "Destination Country",
          "query": "MATCH (n:`Airport`) \nWHERE toLower(toString(n.`country`)) STARTS WITH toLower($input) \nRETURN DISTINCT n.`country` as value,  n.`country` as display ORDER BY size(toString(value)) ASC LIMIT 5",
          "width": 8,
          "height": 2,
          "x": 8,
          "y": 0,
          "type": "select",
          "selection": {},
          "settings": {
            "type": "Node Property",
            "entityType": "Airport",
            "propertyType": "country",
            "propertyTypeDisplay": "country",
            "parameterName": "neodash_airport_country_3",
            "id": "3",
            "searchType": "STARTS WITH",
            "defaultValue": "Finland"
          },
          "schema": []
        },
        {
          "id": "740afcab-9ca6-4fc7-92e2-df414fd80f3c",
          "title": "Map View",
          "query": "// Step 1: Direct paths (1-hop)\nMATCH (a1:Airport {country: $neodash_airport_country_2})-[r1:ROUTE]->(a2:Airport {country: $neodash_airport_country_3})\nWITH {path:[a1,a2], rels:[r1], sig:a1.iata + '->' + a2.iata} AS p\nWITH DISTINCT p.sig AS sig, head(collect(p)) AS p\nLIMIT 5\nWITH collect(p) AS directPaths\n\n// Step 2: If no direct paths, try 2-hop\nCALL apoc.do.when(\n    size(directPaths) = 0,\n    '\n    MATCH (a1:Airport {country: $origin})-[r1:ROUTE]->(mid:Airport)-[r2:ROUTE]->(a2:Airport {country: $destination})\n    WHERE mid.country <> $origin AND mid.country <> $destination\n    WITH {path:[a1,mid,a2], rels:[r1,r2], sig:a1.iata + \"->\" + mid.iata + \"->\" + a2.iata} AS p\n    WITH DISTINCT p.sig AS sig, head(collect(p)) AS p\n    LIMIT 5\n    RETURN collect(p) AS paths\n    ',\n    'UNWIND $directPaths AS p RETURN collect(p) AS paths',\n    {origin:$neodash_airport_country_2, destination:$neodash_airport_country_3, directPaths:directPaths}\n) YIELD value\nWITH value.paths AS twoHopOrDirectPaths\n\n// Step 3: If no 1- or 2-hop paths, try 3-hop\nCALL apoc.do.when(\n    size(twoHopOrDirectPaths) = 0,\n    '\n    MATCH (a1:Airport {country: $origin})-[r1:ROUTE]->(mid1:Airport)-[r2:ROUTE]->(mid2:Airport)-[r3:ROUTE]->(a2:Airport {country: $destination})\n    WHERE ALL(c IN [mid1.country, mid2.country] WHERE c <> $origin AND c <> $destination)\n    WITH {path:[a1,mid1,mid2,a2], rels:[r1,r2,r3], sig:a1.iata + \"->\" + mid1.iata + \"->\" + mid2.iata + \"->\" + a2.iata} AS p\n    WITH DISTINCT p.sig AS sig, head(collect(p)) AS p\n    LIMIT 5\n    RETURN collect(p) AS paths\n    ',\n    'UNWIND $twoHopOrDirectPaths AS p RETURN collect(p) AS paths',\n    {origin:$neodash_airport_country_2, destination:$neodash_airport_country_3, twoHopOrDirectPaths:twoHopOrDirectPaths}\n) YIELD value\nWITH value.paths AS finalPaths\n\n// Step 4: Unwind for map markers\nUNWIND finalPaths AS p\nUNWIND p.path AS airport\nUNWIND p.rels AS route\nRETURN airport, route\n",
          "width": 16,
          "height": 8,
          "x": 0,
          "y": 2,
          "type": "map",
          "selection": {
            "Airport": "country",
            "ROUTE": "(label)"
          },
          "settings": {
            "clusterMarkers": false,
            "defaultNodeSize": "small"
          },
          "schema": [
            [
              "Airport",
              "country",
              "iata",
              "city",
              "latitude",
              "name",
              "location",
              "longitude"
            ],
            [
              "ROUTE",
              "airline",
              "updated"
            ]
          ]
        },
        {
          "id": "b1a70276-688b-4ae1-b14e-34aab1d17335",
          "title": "Graph View",
          "query": "// Step 1: Direct paths (1-hop)\nMATCH (a1:Airport {country: $neodash_airport_country_2})-[r1:ROUTE]->(a2:Airport {country: $neodash_airport_country_3})\nWITH {path:[a1,a2], rels:[r1], sig:a1.iata + '->' + a2.iata} AS p\nWITH DISTINCT p.sig AS sig, head(collect(p)) AS p\nLIMIT 5\nWITH collect(p) AS directPaths\n\n// Step 2: If no direct paths, try 2-hop\nCALL apoc.do.when(\n    size(directPaths) = 0,\n    '\n    MATCH (a1:Airport {country: $origin})-[r1:ROUTE]->(mid:Airport)-[r2:ROUTE]->(a2:Airport {country: $destination})\n    WHERE mid.country <> $origin AND mid.country <> $destination\n    WITH {path:[a1,mid,a2], rels:[r1,r2], sig:a1.iata + \"->\" + mid.iata + \"->\" + a2.iata} AS p\n    WITH DISTINCT p.sig AS sig, head(collect(p)) AS p\n    LIMIT 5\n    RETURN collect(p) AS paths\n    ',\n    'UNWIND $directPaths AS p RETURN collect(p) AS paths',\n    {origin:$neodash_airport_country_2, destination:$neodash_airport_country_3, directPaths:directPaths}\n) YIELD value\nWITH value.paths AS twoHopOrDirectPaths\n\n// Step 3: If no 1- or 2-hop paths, try 3-hop\nCALL apoc.do.when(\n    size(twoHopOrDirectPaths) = 0,\n    '\n    MATCH (a1:Airport {country: $origin})-[r1:ROUTE]->(mid1:Airport)-[r2:ROUTE]->(mid2:Airport)-[r3:ROUTE]->(a2:Airport {country: $destination})\n    WHERE ALL(c IN [mid1.country, mid2.country] WHERE c <> $origin AND c <> $destination)\n    WITH {path:[a1,mid1,mid2,a2], rels:[r1,r2,r3], sig:a1.iata + \"->\" + mid1.iata + \"->\" + mid2.iata + \"->\" + a2.iata} AS p\n    WITH DISTINCT p.sig AS sig, head(collect(p)) AS p\n    LIMIT 5\n    RETURN collect(p) AS paths\n    ',\n    'UNWIND $twoHopOrDirectPaths AS p RETURN collect(p) AS paths',\n    {origin:$neodash_airport_country_2, destination:$neodash_airport_country_3, twoHopOrDirectPaths:twoHopOrDirectPaths}\n) YIELD value\nWITH value.paths AS finalPaths\n\n// Step 4: Unwind paths and relationships for graph view\nUNWIND finalPaths AS p\nUNWIND p.path AS airport\nUNWIND p.rels AS route\n\nRETURN DISTINCT airport AS Node, route AS Relationship\n",
          "width": 8,
          "height": 5,
          "x": 0,
          "y": 10,
          "type": "graph",
          "selection": {
            "Airport": "name",
            "ROUTE": "(label)"
          },
          "settings": {},
          "schema": [
            [
              "Airport",
              "country",
              "iata",
              "city",
              "latitude",
              "name",
              "location",
              "longitude"
            ],
            [
              "ROUTE",
              "airline",
              "updated"
            ]
          ]
        },
        {
          "id": "d47a64f9-cefd-4aa6-a10d-6d1d7774fec1",
          "title": "Table View",
          "query": "// Step 1: Direct paths (1-hop)\nMATCH (a1:Airport {country: $neodash_airport_country_2})-[r1:ROUTE]-(a2:Airport {country: $neodash_airport_country_3})\nWITH {path:[a1,a2], sig:a1.iata + '->' + a2.iata} AS p\nWITH DISTINCT p.sig AS sig, head(collect(p)) AS p\nLIMIT 5\nWITH collect(p) AS directPaths\n\n// Step 2: If no direct paths, try 2-hop\nCALL apoc.do.when(\n    size(directPaths) = 0,\n    '\n    MATCH (a1:Airport {country: $origin})-[r1:ROUTE]-(mid:Airport)-[r2:ROUTE]-(a2:Airport {country: $destination})\n    WHERE mid.country <> $origin AND mid.country <> $destination\n    WITH {path:[a1,mid,a2], sig:a1.iata + \"->\" + mid.iata + \"->\" + a2.iata} AS p\n    WITH DISTINCT p.sig AS sig, head(collect(p)) AS p\n    LIMIT 5\n    RETURN collect(p) AS paths\n    ',\n    'UNWIND $directPaths AS p RETURN collect(p) AS paths',\n    {origin:$neodash_airport_country_2, destination:$neodash_airport_country_3, directPaths:directPaths}\n) YIELD value\nWITH value.paths AS twoHopOrDirectPaths\n\n// Step 3: If no 1- or 2-hop paths, try 3-hop\nCALL apoc.do.when(\n    size(twoHopOrDirectPaths) = 0,\n    '\n    MATCH (a1:Airport {country: $origin})-[r1:ROUTE]-(mid1:Airport)-[r2:ROUTE]-(mid2:Airport)-[r3:ROUTE]-(a2:Airport {country: $destination})\n    WHERE ALL(c IN [mid1.country, mid2.country] WHERE c <> $origin AND c <> $destination)\n    WITH {path:[a1,mid1,mid2,a2], sig:a1.iata + \"->\" + mid1.iata + \"->\" + mid2.iata + \"->\" + a2.iata} AS p\n    WITH DISTINCT p.sig AS sig, head(collect(p)) AS p\n    LIMIT 5\n    RETURN collect(p) AS paths\n    ',\n    'UNWIND $twoHopOrDirectPaths AS p RETURN collect(p) AS paths',\n    {origin:$neodash_airport_country_2, destination:$neodash_airport_country_3, twoHopOrDirectPaths:twoHopOrDirectPaths}\n) YIELD value\nWITH value.paths AS finalPaths\n\n// Step 4: Convert each path to readable string for table\nUNWIND finalPaths AS p\nRETURN REDUCE(s = \"\", airport IN p.path |\n    s + CASE WHEN s = \"\" THEN \"\" ELSE \"  ----  \" END + airport.country + \" (\" + airport.iata + \")\"\n) AS Paths\nORDER BY Paths\n",
          "width": 8,
          "height": 5,
          "x": 8,
          "y": 10,
          "type": "table",
          "selection": {},
          "settings": {},
          "schema": []
        }
      ]
    }
  ],
  "parameters": {},
  "extensions": {
    "active": true,
    "activeReducers": [],
    "actions": {
      "active": true
    }
  },
  "uuid": "7a76dea7-3a20-42d2-9c96-66224b318908"
}